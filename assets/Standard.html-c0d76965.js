import{_ as n,o as s,c as a,a as e}from"./app-4b0bc845.js";const o={},i=e(`<h2 id="一-插件标准" tabindex="-1"><a class="header-anchor" href="#一-插件标准" aria-hidden="true">#</a> 一. 插件标准</h2><h3 id="_1-1-插件目录说明" tabindex="-1"><a class="header-anchor" href="#_1-1-插件目录说明" aria-hidden="true">#</a> 1.1 插件目录说明</h3><p><code>妃爱</code>将插件分为7个目录，分别为：</p><ul><li><code>Basic_plugins</code>：存放基础插件，一般在置于加载队列的最前。例如，黑名单插件，聊天冷却插件。</li><li><code>Normal_plugins</code>：存放开发者的普通功能的插件。</li><li><code>Nonebot_plugins</code>：存放Nonebot2商店的插件。</li><li><code>Market_plugins</code>：存放物品、群友市场、现货市场等插件。</li><li><code>Web_plugins</code>：存放后端API服务插件</li><li><code>Debug_plugins</code>：存放开发者的测试插件</li><li><code>Personal_plugins</code>：存放私人功能插件</li><li><code>AI_plugins</code>：存放AIGC类插件</li></ul><p>除了强烈推荐将基础实现类插件存放在<code>Basic_plugins</code>中，其他不做过多要求。</p><h3 id="_1-2-插件加载说明" tabindex="-1"><a class="header-anchor" href="#_1-2-插件加载说明" aria-hidden="true">#</a> 1.2 插件加载说明</h3><p><code>妃爱</code>通过根目录下的<code>plugin.***.json</code>文件获取需要启动的插件列表以及插件加载先后顺序。<code>***</code>即在<code>.env</code> 文件中所设置的<code>environments</code>变量。</p><h3 id="_1-3-插件元数据说明" tabindex="-1"><a class="header-anchor" href="#_1-3-插件元数据说明" aria-hidden="true">#</a> 1.3 插件元数据说明</h3><p><code>妃爱</code> 依赖插件的元数据来实现包括菜单显示、插件响应控制（插件群聊响应开关，插件个人响应开关）、冷却CD功能。推荐除了<code>基础插件</code>、<code>私人插件</code> 外的其他插件添加<code>妃爱</code>标准的插件元数据。<br> 元数据声明示例：</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> nonebot<span class="token punctuation">.</span>plugin <span class="token keyword">import</span> PluginMetadata

__plugin_meta__ <span class="token operator">=</span> PluginMetadata<span class="token punctuation">(</span>
    <span class="token comment"># 插件名</span>
    name<span class="token operator">=</span><span class="token string">&quot;群聊消息自动撤回&quot;</span><span class="token punctuation">,</span>  
    <span class="token comment"># 插件描述信息 </span>
    description<span class="token operator">=</span><span class="token string">&quot;开启后妃爱将定时撤回自己发送的消息&quot;</span><span class="token punctuation">,</span>  
    <span class="token comment"># 插件帮助信息</span>
    usage<span class="token operator">=</span><span class="token string">&quot;#开启定时撤回\\n&quot;</span>
          <span class="token string">&quot;#开启定时撤回 定时时间\\n&quot;</span>
          <span class="token string">&quot;#关闭定时撤回\\n&quot;</span>
          <span class="token string">&quot;#修改定时撤回时间 定时时间\\n&quot;</span>
          <span class="token string">&quot;#查看定时撤回状态\\n&quot;</span><span class="token punctuation">,</span>
    extra<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token comment"># 插件冷却权重 每次插件调用时会进行权重累积，以五分钟为一统计周期。超过权重后对应的群聊/用户会被停止响应。</span>
        <span class="token string">&quot;CD_Weight&quot;</span><span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>  
        <span class="token comment"># 插件使用权限描述信息</span>
        <span class="token string">&quot;permission&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;群管/妃爱管理员及以上权限&quot;</span><span class="token punctuation">,</span>  
        <span class="token comment"># 插件是否常驻开启不允许群聊关闭</span>
        <span class="token string">&quot;Keep_On&quot;</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>  
        <span class="token comment"># 插件类型，分为Normal_Plugin、Admin_Plugin与Auto_Plugin三种。即普通插件，管理插件与被动插件</span>
        <span class="token string">&quot;Type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Admin_Plugin&quot;</span><span class="token punctuation">,</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>extra[&quot;CD_Weight]</code> 插件冷却权重，每次插件调用时会进行权重累积，以五分钟为一统计周期。超过权重后对应的群聊/用户会被停止响应。若无权重或者权重为零，则会跳过权重统计。</li><li><code>extra[&quot;permission]</code> 插件使用权限描述信息，并不会实际影响插件的权限，只是作为帮助信息提供</li><li><code>extra[&quot;Keep_On]</code> 开启后插件常驻，不会被对应群聊关闭</li><li><code>extra[&quot;Type]</code> 插件类型</li></ul>`,11),t=[i];function c(l,p){return s(),a("div",null,t)}const u=n(o,[["render",c],["__file","Standard.html.vue"]]);export{u as default};
